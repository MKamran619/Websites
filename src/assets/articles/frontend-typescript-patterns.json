{
  "id": "frontend-typescript-patterns",
  "title": "Advanced TypeScript Patterns for Large-Scale Applications",
  "excerpt": "Master advanced TypeScript features including generics, conditional types, mapped types, and type guards for building robust enterprise applications.",
  "date": "Nov 2023",
  "category": "Modern Frontend",
  "readTime": 15,
  "icon": "âš¡",
  "tags": ["TypeScript", "Patterns", "Types", "Enterprise"],
  "featured": false,
  "author": {
    "name": "Kamran Sohail",
    "role": "Software Engineer & Consultant",
    "avatar": "KS"
  },
  "content": "<h2>Why Advanced TypeScript?</h2><p>TypeScript's type system is powerful enough to catch bugs at compile time that would otherwise make it to production. Mastering it leads to more maintainable code.</p><h2>Generic Constraints</h2><pre><code>// Constrained generic\nfunction getProperty<T, K extends keyof T>(obj: T, key: K): T[K] {\n  return obj[key];\n}\n\nconst user = { name: 'John', age: 30 };\nconst name = getProperty(user, 'name'); // type: string\nconst age = getProperty(user, 'age');   // type: number\n// getProperty(user, 'invalid'); // Error!\n\n// Generic with multiple constraints\ninterface HasId { id: string; }\ninterface HasTimestamp { createdAt: Date; }\n\nfunction mergeEntities<T extends HasId & HasTimestamp>(\n  a: T,\n  b: Partial<T>\n): T {\n  return { ...a, ...b };\n}</code></pre><h2>Conditional Types</h2><pre><code>// Type that changes based on condition\ntype IsArray<T> = T extends any[] ? true : false;\n\ntype A = IsArray<string[]>; // true\ntype B = IsArray<number>;   // false\n\n// Extract return type from promise\ntype UnwrapPromise<T> = T extends Promise<infer U> ? U : T;\n\ntype Result = UnwrapPromise<Promise<string>>; // string\n\n// Conditional type for API responses\ntype ApiResponse<T> = T extends undefined\n  ? { success: boolean }\n  : { success: boolean; data: T };\n\nfunction handleResponse<T>(data?: T): ApiResponse<T> {\n  return data !== undefined\n    ? { success: true, data }\n    : { success: true } as ApiResponse<T>;\n}</code></pre><h2>Mapped Types</h2><pre><code>// Make all properties optional\ntype Partial<T> = {\n  [K in keyof T]?: T[K];\n};\n\n// Make all properties required\ntype Required<T> = {\n  [K in keyof T]-?: T[K];\n};\n\n// Make all properties readonly\ntype Readonly<T> = {\n  readonly [K in keyof T]: T[K];\n};\n\n// Transform property types\ntype Getters<T> = {\n  [K in keyof T as `get${Capitalize<string & K>}`]: () => T[K];\n};\n\ninterface User {\n  name: string;\n  age: number;\n}\n\ntype UserGetters = Getters<User>;\n// { getName: () => string; getAge: () => number; }</code></pre><h2>Template Literal Types</h2><pre><code>// Build string types programmatically\ntype EventName = 'click' | 'focus' | 'blur';\ntype EventHandler = `on${Capitalize<EventName>}`;\n// 'onClick' | 'onFocus' | 'onBlur'\n\n// CSS property types\ntype CSSProperty = 'margin' | 'padding';\ntype CSSDirection = 'top' | 'right' | 'bottom' | 'left';\ntype CSSPropertyDirection = `${CSSProperty}-${CSSDirection}`;\n// 'margin-top' | 'margin-right' | ... | 'padding-left'\n\n// API route types\ntype HttpMethod = 'GET' | 'POST' | 'PUT' | 'DELETE';\ntype Route = '/users' | '/products';\ntype Endpoint = `${HttpMethod} ${Route}`;\n// 'GET /users' | 'POST /users' | ...</code></pre><h2>Type Guards</h2><pre><code>// User-defined type guard\ninterface Dog { bark(): void; breed: string; }\ninterface Cat { meow(): void; lives: number; }\n\nfunction isDog(pet: Dog | Cat): pet is Dog {\n  return (pet as Dog).bark !== undefined;\n}\n\nfunction handlePet(pet: Dog | Cat) {\n  if (isDog(pet)) {\n    pet.bark(); // TypeScript knows it's a Dog\n  } else {\n    pet.meow(); // TypeScript knows it's a Cat\n  }\n}\n\n// Assertion function\nfunction assertIsString(value: unknown): asserts value is string {\n  if (typeof value !== 'string') {\n    throw new Error('Not a string');\n  }\n}\n\nfunction process(input: unknown) {\n  assertIsString(input);\n  // input is now typed as string\n  console.log(input.toUpperCase());\n}</code></pre><h2>Discriminated Unions</h2><pre><code>// State machine types\ntype State = \n  | { status: 'idle' }\n  | { status: 'loading' }\n  | { status: 'success'; data: User[] }\n  | { status: 'error'; error: string };\n\nfunction renderState(state: State): string {\n  switch (state.status) {\n    case 'idle':\n      return 'Ready to fetch';\n    case 'loading':\n      return 'Loading...';\n    case 'success':\n      return `Found ${state.data.length} users`; // data is available\n    case 'error':\n      return `Error: ${state.error}`; // error is available\n  }\n}\n\n// Exhaustive checking\nfunction assertNever(x: never): never {\n  throw new Error('Unexpected: ' + x);\n}\n\nfunction handle(state: State) {\n  switch (state.status) {\n    case 'idle': return;\n    case 'loading': return;\n    case 'success': return;\n    case 'error': return;\n    default: return assertNever(state); // Compile error if case missed\n  }\n}</code></pre><h2>Utility Types</h2><pre><code>// Pick specific properties\ntype UserPreview = Pick<User, 'id' | 'name'>;\n\n// Omit properties\ntype CreateUser = Omit<User, 'id' | 'createdAt'>;\n\n// Record type for dictionaries\ntype UserCache = Record<string, User>;\n\n// Extract function parameters\ntype Params = Parameters<typeof fetchUser>;\n\n// Extract return type\ntype Result = ReturnType<typeof fetchUser>;\n\n// Extract awaited type\ntype Data = Awaited<ReturnType<typeof fetchUser>>;</code></pre><h2>Branded Types</h2><pre><code>// Prevent mixing up IDs\ntype UserId = string & { readonly brand: unique symbol };\ntype OrderId = string & { readonly brand: unique symbol };\n\nfunction createUserId(id: string): UserId {\n  return id as UserId;\n}\n\nfunction getUser(id: UserId): User { ... }\nfunction getOrder(id: OrderId): Order { ... }\n\nconst userId = createUserId('123');\ngetUser(userId); // OK\n// getOrder(userId); // Error! Can't use UserId where OrderId expected</code></pre><h2>Conclusion</h2><p>Advanced TypeScript features help catch errors early and document your code's intent. Use them to build more reliable, maintainable applications.</p>"
}
